@using System;
@using Microsoft.AspNetCore.Components;
@using Microsoft.AspNetCore.Components.Web;
@using Blazor.Diagrams;
@using Blazor.Diagrams.Core.Models;
@using Blazor.Diagrams.Core.Models.Base;
@using Blazor.Diagrams.Extensions;
@using Blazorwasm.Models;


<MudPaper Class="mud-height-full" Style="overflow:hidden; position:relative;">
    <MudDrawerContainer Class="mud-height-full d-flex flex-row pr-2">
        <MudDrawer @bind-Open="@open" Elevation="0" Variant="@DrawerVariant.Persistent">
            <MudNavMenu  Class="pa-2" Rounded="true" Color="Color.Primary" style="height: 100vh;">
                <MudText Typo="Typo.h6" Class="px-4">
                    <Logo/>
                </MudText>
                <MudText Typo="Typo.body2" Class="px-4 mud-text-secondary">Microgrid System</MudText>
                <div class="pl-2">
                    <MudDivider Class="my-2"/>
                    <MudText Class="pl-2 fs-6 text-black-50">menu</MudText>
                    
                    <MudNavLink Href="/guide" Icon="@Icons.Material.Filled.TipsAndUpdates">Guide</MudNavLink>
                    <MudNavLink Href="/microgrids" Icon="@Icons.Material.Filled.AutoAwesomeMotion">Microgrids</MudNavLink>
                    <MudNavLink Href="/workspace/1" Icon="@Icons.Material.Filled.Dashboard">Workspace</MudNavLink>
                    <MudNavLink Href="/dashboard" Icon="@Icons.Material.Filled.Leaderboard">Dashboard</MudNavLink>
                    <MudNavLink Href="/whiteboard" Icon="@Icons.Material.Filled.DashboardCustomize">Whiteboard</MudNavLink>
                    <MudDivider Class="my-2"/>
                    <MudText Class="pl-2 fs-6 text-black-50">other</MudText>
                    <MudNavGroup Title="Settings" Icon="@Icons.Material.Filled.Settings" Expanded="true">
                        <MudNavLink Href="/profile">Users</MudNavLink>
                        <MudNavLink Href="/security">Security</MudNavLink>
                    </MudNavGroup>
                    <MudNavLink Href="/about" Icon="@Icons.Material.Filled.Camera">About</MudNavLink>
                </div>
            </MudNavMenu>
        </MudDrawer>

        <div class="d-flex justify-center align-center">
            @if(open) {
                <MudIconButton Icon="@Icons.Material.Filled.ChevronLeft" OnClick="@ToggleDrawer" style="width: 4px; height: 4px; margin: 0px;"></MudIconButton>
            } else {
                <MudIconButton Icon="@Icons.Material.Filled.ChevronRight" OnClick="@ToggleDrawer" style="width: 4px; height: 4px; margin: 0px;"></MudIconButton>
            }
        </div>
    </MudDrawerContainer>
</MudPaper>

@code
{
    bool open = true;

    void ToggleDrawer()
    {
        open = !open;
    }
}